{% extends "post_login_accounts.html" %}
{% block content %}

<form id="new-intent" action="/updateReceipt/{{ receipt_id }}" method="post">

<div style="display: flex; flex-direction: column; align-items: center; flex: 1; justify-content: space-around; margin-top: 10px">

    <div class="form-group" style="display: block; width: 38%">
        <label style="flex: 8" for="natureOfTransaction">Transaction Type</label>
        <select style="flex: 4" class="form-control" id="natureOfTransaction" name="natureOfTransaction">
            {% set nature = ['Debit', 'Credit', 'Multi-Ledger'] %}

            {% for nat in nature %}
                <option value= "{{nat}}">{{nat}}</option>"
            {% endfor %}
        </select>
    </div>

    <div class="form-group" style="display: block; width: 38%">
        <label style="flex: 8" for="ledger">Ledger</label>
        <select style="flex: 4" class="form-control" id="ledger" name="ledger">
            {% set nature = ['Sub', 'Main'] %}
            {% for nat in nature %}
                <option value= "{{nat}}">{{nat}}</option>"
            {% endfor %}
        </select>
    </div>

    <div class="form-group" style="display: block; width: 38%">
        <label style="flex: 8" for="adjustmentVoucher">Adjustment Voucher</label>
        <select style="flex: 4" class="form-control" id="adjustmentVoucher" name="adjustmentVoucher">
            {% set nature = ['No', 'Yes'] %}
            {% for nat in nature %}
                <option value= "{{nat}}">{{nat}}</option>"
            {% endfor %}
        </select>
    </div>

    <div class="form-group" style="display: block; width: 38%">
        <label style="flex: 8" for="cleared">Cheque Cleared?</label>
        <select style="flex: 4" class="form-control" id="cleared" name="cleared">
            {% set nature = ['No', 'Yes'] %}
            {% for nat in nature %}
                <option value= "{{nat}}">{{nat}}</option>"
            {% endfor %}
        </select>
    </div>

    <div class="form-group" style="display: block; width: 38%">
        <label style="flex: 4" for="accountHead">Account Head</label>
        <select style="flex: 4" class="form-control" id="accountHead" name="accountHead">
        {% set nature = ['ADVANCE TO TUCS LTD.', 'ADVANCE-NEW CATHEDRAL SERVICE STATION', 'ADVANCES', 'AMOUNT DUE FROM CTA', 'AMOUNT PAYABLE TO TAMCO (CAR)', 'AMOUNT RECEIVABLE FROM ELCOT', 'AMOUNT RECEIVABLE FROM NBCFDC', 'AMOUNT RECEIVED FROM GOVT (IRRI)', 'AMOUNT TRANSFERRED TO TAMCO', 'AMT REC FROM NBCFDC FOR EXHIBITION', 'AMT REVD FROM GOVT - JOT (PD A/c)', 'ARREARS PAYABLE', 'BAD AND DOUBTFUL DEBTS', 'BANK CHARGES', 'BANK OF BARODA , MOUNT ROAD BR', 'BOARD MEETING EXPENSE', 'BONUS', 'BOOKS & PERIODICALS', 'Buildings', 'CANCELLATION OF CHEQUE(JOT)', 'COMM OF BACKWARD CLASSES', 'COMPUTER TRAINING', 'COMPUTERS', 'CONTRIBUTION TO EPF & OTHER FUNDS', 'CONVEYANCE CHARGES', 'COST OF FUEL', 'DCCB INT', 'DCCB P.INT', 'DEPRECIATION', 'EDP INTEREST', 'EDP P INT.', 'ELECTRICITY CHARGES', 'EXHIBITION/ADVERTISEMENT EXEPNSES', 'FESTIVAL ADVANCE', 'FILING FEES', 'FIXED DEPOSIT', 'FURNITURE & FITTINGS', 'GRATUITY', 'Gain on sale of assets', 'GROUP INSURANCE SCHEME', 'GUARANTEE COMMISSIN PAYABLE TO TN GOVT', 'GUARANTEE COMMISSION TO T.N. GOVT.', 'Indian Bank T.Nagar Branch', 'INDUSIND BANK, NUNGABAKKAM BR', 'INSURANCE', 'INTEREST ACCRUED ON FD', 'INTEREST ACCRUED ON ML LOAN', 'INTEREST ACCRUED ON SB A/C', 'INTEREST ACCURED BUT NOT DUE ON FD', 'INTEREST FROM TAMCO receivable', 'INTEREST ON FIXED DEPOSIT', 'INTEREST ON SAVING BANK A/C', 'INTEREST PAID TO NBCFDC', 'INTERIM ARREARS', 'INTERNAL AUDIT FEES PAYABLE', 'STATUTORY AUDIT FEES PAYABLE', 'INTEREST ON ML LOAN', 'INTERIM ARREARS', 'INTERNAL AUDIT FEES', 'IOB, MOUNT ROAD', 'ISSUED, SUBSCRIBED AND PAID-UP', 'Karur Vysya Bank Kodambakkam branch', 'LEAVE SALARY', 'LEGAL FEES', 'LOAN FOR SETTING UP OF MOBILE LAUNDRY', 'LOAN FROM NBCFDC (GTL)', 'LOAN FROM NBCFDC (MCS)', 'LOAN FROM NBCFDC (MSY)', 'LOAN HOSTEL -PRINCIPAL', 'LOAN TO AAVIN-PRINCIPAL', 'LOAN TO DCCB (GTL) - PRINCIPAL', 'LOAN TO EDP TRAINED WOMEN - PRINCIPAL', 'LOAN TO HDC-PRINCIPAL', 'LOAN TO ICS (AUTO)-PRINCIPAL (BC)', 'LOAN TO ICS (AUTO)-PRINCIPAL (G)', 'LOAN TO ICS (AUTO)-PRINCIPAL (M)', 'LOAN TO ICS (MML) PRINCIPAL', 'LOAN TO MICRO CREDIT SCHEME-PRINCIPAL', 'LOAN TO NSS -PRINCIPAL', 'LOAN TO PACB (GTL) - PRINCIPAL', 'LOAN TO SUGAR MILL-PRINCIPAL', 'LOAN TO TAICO-PRINCIPAL', 'LOAN TO UCB (GTL) -PRINCIPAL', 'MARGIN ON INTEREST PAYABLE TO SCAS (SC)', 'MAS INT.', 'MAS P.INT', 'MEDICAL EXPENSES', ' MEETING EXPENSE', 'MICRO CREDIT SCHEME INT', 'MICRO CREDIT SCHEME P.INT', 'MLL INT.', 'MLL P.INT', 'MOTOR CAR', 'NEW HEALTH INSURANCE SCHEME', 'NSS INTEREST', 'NSS P.INTEREST', 'OFFICE EQUIPMENT', 'OFFICE EXPENSE', 'OUTSTANDING EXPENSES', 'P.D. A/C - RBI', 'PACB INT', 'PACB P.INT', 'PENAL INTEREST ACCRUED', 'PENSION CONTRIBUTION', 'PETTY CASH', 'POSTAGE EXPENSES', 'PRINTING & STATIONERY', 'PROFEESIONAL FEES', 'PROFIT AND LOSS ACCOUNT', 'PROVISION FOR BAD & DOUDTFUL DEBTIS', 'PROVISION FOR BONUS', 'PROVISION FOR GRATUITY', 'PROVISION FOR LEAVE SALARY', 'Purchase of Telephone', 'REFRESHMENT CHARGES', 'REMUNERATION TO CHARMAN', 'RENT', 'REPAIR & MAINTENANCE', 'SALARIES', 'Sale of Tender Form', 'SERVICE CHARGES', 'SOFTWARE DEVELOPMENT ', 'STAMPS ON HAND', 'STATUTORY AUDIT FEES', 'STIPEND', 'SUBSIDY CHARGES RECEIVABLE FROM GOVT.', 'SUBSIDY RECEIVED FROM GOVT FOR ML', 'SYNDICATE BANK, EGMORE BR', 'TAICO INT', 'TAMCO', 'TAMILNADU STATE APEX CO-OP BANK', 'TAX AUDIT FEES', 'TDS ON BANK DEPOSITS', 'TDS ON RENT', 'TELEPHONE DEPOSIT', 'TELEPHONE CHARGES', 'TRAINING GRANT IN AID FROM NBCFDC', 'TRAVELLING EXPENSE/TTA', 'UCB INT', 'UCB P.INT', 'VEHICLE HIRE CHARGES', 'VEHICLE MAINTANCE', 'WORK IN PROGRESS', 'WAGES'] %}

        {% for nat in nature %}
        <option value= "{{nat}}">{{nat}}</option>"
        {% endfor %}
        </select>
    </div>

    <div class="form-group" style="display: block; width: 38%">
        <label style="flex: 4" for="bankAccount">TABCEDCO Account</label>
        <input type="text" id="bankAccount" name="bankAccount" style="display: block; width: 100%">
    </div>

    <div class="form-group" style="display: block; width: 38%">
        <label style="flex: 4" for="depositingBank">External Bank Account</label>
        <input type="text" id="depositingBank" name="depositingBank" style="display: block; width: 100%">
    </div>

    <div class="form-group" style="display: flex; flex-direction: row; justify-content: space-between;">
        <div>
            <label style="flex: 4" for="totalDebit">Total Debit</label>
            <input type="number" id="totalDebit" name="totalDebit" style="display: block; width: 100%">
        </div>
        <div>
            <label style="flex: 4" for="totalCredit">Total Credit</label>
            <input type="number" id="totalCredit" name="totalCredit" style="display: block; width: 100%">
        </div>
    </div>

    <div class="form-group" style="display: flex; flex-direction: row; justify-content: space-between;">
        <div>
            <label for="amount">Amount</label>
            <input type="number" id="amount" name="amount">
        </div>
        <div style="margin-left: 10px">
            <label for="invoiceDate">Invoice Date</label>
            <input type="date" value="" id="invoiceDate" name="invoiceDate">
        </div>
    </div>

    <div class="form-group" style="display: block; width: 38%">
        <label style="flex: 4" for="cheque">Cheque/RTGS #</label>
        <input type="text" id="cheque" name="cheque" style="display: block; width: 100%">
    </div>

    <div class="form-group" style="display: block; width: 38%">
        <label style="flex: 4" for="narration">Narration for Bill</label>
        <input type="text" id="narration" name="narration" style="display: block; width: 100%">
    </div>

    <div class="form-group" style="display: flex; flex-direction: row; justify-content: space-between;">
        <label style="flex: 4" for="paymentVoucher">Voucher Number</label>
        <input type="text" id="paymentVoucher" name="paymentVoucher" style="display: block; width: 100%">
        <div style="margin-left: 10px">
            <label for="voucherDate">Voucher Date</label>
            <input type="date" value="" id="voucherDate" name="voucherDate">
        </div>
        <div style="margin-left: 10px">
            <label for="chequeDate">Cheque Date</label>
            <input type="date" value="" id="chequeDate" name="chequeDate">
        </div>
    </div>

    <button type="submit" class="btn btn-success">Save Bill Details</button>

</div>
</form>

<script>
    var source = "/raw_receipt/"+"{{receipt_id}}";
            $.ajax({
            type: 'GET',
            url: source,
            contentType: "application/json",
            dataType: 'json',
            success: function (json) {
                document.getElementById("natureOfTransaction").value = json[0]["nature_of_transaction"];
                document.getElementById("cleared").value = json[0]["cleared"];
                document.getElementById("accountHead").value = json[0]["account_head"];
                document.getElementById("bankAccount").value = json[0]["bank_account"];
                document.getElementById("amount").value = json[0]["amount"];
                document.getElementById("cheque").value = json[0]["cheque_number"];
                document.getElementById("paymentVoucher").value = json[0]["payment_voucher"];
                document.getElementById("depositingBank").value = json[0]["depositing_bank"];
                document.getElementById("ledger").value = json[0]["ledger"];
                document.getElementById("adjustmentVoucher").value = json[0]["adjustment_voucher"];
                document.getElementById("invoiceDate").value = moment(json[0]["invoice_date"]['$date']).format('YYYY-MM-DD');
                document.getElementById("voucherDate").value = moment(json[0]["voucher_date"]['$date']).format('YYYY-MM-DD');
        },
            error: function (e) {
                alert("error");
            }
        });

</script>

{% endblock %}